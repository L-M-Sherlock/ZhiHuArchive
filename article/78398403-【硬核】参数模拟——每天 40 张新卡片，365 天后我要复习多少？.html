<meta charset="UTF-8">
https://zhuanlan.zhihu.com/p/78398403
【硬核】参数模拟——每天 40 张新卡片，365 天后我要复习多少？
<div><p>本文的得力助手：</p><a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-text="Anki Optimizer and Simulator" href="https://pheartheceal.github.io/anki-optimizer/" target="_blank"><span><span></span><span></span></span><span></span></a><hr/><p>每天 40 张新卡片，365 天后能学 14600 个知识点，是不是很心动？我也是这么过来的，但是这里有个大坑在我长期使用 Anki 后被发现了！</p><h2>先从最常见的情况入手</h2><ul><li>不修改 Anki 的默认参数</li><li>每天的保留率是 90%（理论值）</li><li>只点【重来】和【一般】</li></ul><p>好，输入数据：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-abc6a4b68be6531d18092e8d74954871_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-abc6a4b68be6531d18092e8d74954871_r.jpg" data-rawheight="904" data-rawwidth="1002" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1002' height='904'&gt;&lt;/svg&gt;" width="1002"/></figure><p>等待结果……</p><p>叮！好了：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-4163050355df26e02b78bccfc0cffead_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-4163050355df26e02b78bccfc0cffead_r.jpg" data-rawheight="732" data-rawwidth="1825" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1825' height='732'&gt;&lt;/svg&gt;" width="1825"/></figure><p>这跟我当时情况有些偏差（统计记录在这篇文章里：<a class="internal" href="https://zhuanlan.zhihu.com/p/35390139">简单「Anki」高考制卡心得</a>），当时正值我使用 Anki 满一年，学了 14231 张卡片，平均每天 39 张，熟悉卡片的保留率在 92%。我复习卡片数量最多的时候是 608 张/天：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-b71c190e0c9660c772ed9e018af57993_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-b71c190e0c9660c772ed9e018af57993_r.jpg" data-rawheight="342" data-rawwidth="1281" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1281' height='342'&gt;&lt;/svg&gt;" width="1281"/></figure><p>比模拟（reviews per day max ）的 700 张少 13%，我觉得这个模拟还是较为准确的（毕竟当时我经常按【简单】）。</p><blockquote>注：该模拟器有随机性，所以相同参数的结果会有不同，不过还是会在一个范围内浮动（ 660~770 ，大部分数据落在 690~730）</blockquote><p>那个时候我的刷卡片速度有多快呢？</p><figure><img class="content_image lazy" data-actualsrc="https://pic4.zhimg.com/v2-e26b5c35f04d90abc536b7dbf15b5a07_b.jpg" data-caption="" data-rawheight="168" data-rawwidth="414" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='414' height='168'&gt;&lt;/svg&gt;" width="414"/></figure><p>以这个速度刷 600 张卡片大概要 68 分钟，刷 700 张得要 80 分钟。当然，回报也是丰厚的：14600 * 90% = 13140，也就是我们记住了 13140 张卡片上的知识！</p><p>负担会不会太重？性价比会不会太低？这取决于你！别忘了 Anki 能通过算法来适应每个人的情况，这是 Anki 为什么有那么多设置可以自定义的原因。</p><p>接下来我来为大家调整一下参数，看看复习量怎么变化：</p><h2>加倍间隔，牺牲保留率</h2><ul><li>间隔修饰符调整到 200%</li><li>预期保留率下降到 80%（理论上）</li></ul><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-79c412054f315584b92145bf8f0ac30d_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-79c412054f315584b92145bf8f0ac30d_r.jpg" data-rawheight="910" data-rawwidth="1002" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1002' height='910'&gt;&lt;/svg&gt;" width="1002"/></figure><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-9a9a6b061ed4de19785601c33c99994f_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-9a9a6b061ed4de19785601c33c99994f_r.jpg" data-rawheight="733" data-rawwidth="1822" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1822' height='733'&gt;&lt;/svg&gt;" width="1822"/></figure><p>哇！负担不到之前的一半了！虽然保留率只有 81%，14600 * 81% =  11826。</p><p>当然，这里大家可能会有疑问：继续扩大间隔是不是能进一步减小负担呢？</p><p>答案显然是否定的，因为保留率会进一步下降，从而使每天【重来】的卡片数量增加，这些卡片的简易度会下降，也就是说间隔会缩小，导致每天要复习的卡片不降反升。</p><p>那么最优的参数是多少呢？我用模拟器一个一个参数测试，发现 121% 的间隔修饰符最优：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-59a6016655f82379ae5cb040b5df9f0a_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-59a6016655f82379ae5cb040b5df9f0a_r.jpg" data-rawheight="733" data-rawwidth="1822" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1822' height='733'&gt;&lt;/svg&gt;" width="1822"/></figure><p>最大复习量在 360 至 380 之间，保留率理论值为 88%（用 2% 的保留率下降换来 50% 的减负，还不错）</p><p>间隔修饰符的优化就讲到这里，接下来我们讲讲【新间隔(Failure Penalty)】</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-9aa23c580d71fdfd8e33ce3990c4e79f_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-9aa23c580d71fdfd8e33ce3990c4e79f_r.jpg" data-rawheight="636" data-rawwidth="840" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='840' height='636'&gt;&lt;/svg&gt;" width="840"/></figure><h2>新间隔参数介绍</h2><p>【新间隔】参数从属于【失误次数】这一菜单，表明了它和【重来】息息相关。</p><p>在默认情况下，一旦我们按了【重来】，卡片的间隔就会归零，并且后续的间隔会比新卡片更短。为什么呢？</p><p>因为当我们点下【重来】时，卡片的【间隔】就是【上次的间隔】*【新间隔】，而【新间隔】默认为 0%，所以乘起来就是 0，而且卡片的【简易度】（实际被翻译为难度系数，下文都用简易度代替）还会下降 20%，如下图：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-13df5b20b8d5a39149efb4367f1b33c5_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-13df5b20b8d5a39149efb4367f1b33c5_r.jpg" data-rawheight="448" data-rawwidth="882" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='882' height='448'&gt;&lt;/svg&gt;" width="882"/></figure><p>评分 1 就是【重来】，从上图可知其【简易度】从 280% 下降到了 260%，【间隔】从 1.4 个月直接变成 1 天（指的是【重新学习】后的【间隔】）</p><p>假设我将【新间隔】改为 10%，那么【重新学习】后的【间隔】就会变成 1.4 个月 * 10% = 4.2 天，Anki 取整后为 4 天，这样这张卡片就不会堆积太久（因为下一次你遇到它并选择【一般】时，新间隔为 4.2 天 * 230% = 9.66天，取整为 9 天。而不是 1 天 * 230% = 2.3 天，取整为 2 天）</p><p>当然，我这么改难道不违背了 Anki 增加错误卡片出现频率的初衷了吗？</p><p>我是有理由的，因为【新间隔】影响最大的是【间隔】已经很长的卡片（假设我设置【新间隔】为 10%，那么能影响到的卡片【间隔】已经超过 20 天，也就是重复了 5 次以上的卡片）。而【间隔】很长的卡片通常是记得比较熟练了，偶尔出错只是状态不佳，没有必要像新卡片一样频繁学习，浪费时间。（当然，对保留率可能也会有影响，但是没有具体的计算公式）</p><p>废话不多说，调下参数试试</p><h2>提高新间隔（可能会降低保留率）</h2><ul><li>间隔修饰符不变</li><li>新间隔改为 10%</li></ul><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-fc43ea35c874171c5e23b989f1c3d19e_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-fc43ea35c874171c5e23b989f1c3d19e_r.jpg" data-rawheight="906" data-rawwidth="999" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='999' height='906'&gt;&lt;/svg&gt;" width="999"/></figure><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic1.zhimg.com/v2-8e794d34fe6a39d27cd59458905f8fd8_b.jpg" data-caption="" src="https://pic1.zhimg.com/v2-8e794d34fe6a39d27cd59458905f8fd8_r.jpg" data-rawheight="730" data-rawwidth="1822" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1822' height='730'&gt;&lt;/svg&gt;" width="1822"/></figure><p>复习量在 540~600 之间，相比一开始减少了 20% 的复习量。</p><p>造成的影响是：如果你有一张【间隔】为一年的卡片，那么出错后先会在【重新学习】中等待 10 分钟来重新检验你。再次正确后的【间隔】就是 36 天了。</p><p>最后，我再讲讲一个反常识的事情：（理论上）减少每日新卡片对减轻每日复习量帮助不大（假设学习总量一样）</p><h2>拉长战线，减少每日新卡片，（理论上）无法减负，甚至增负？</h2><ul><li>默认参数不变</li><li>将新卡片数量减少到 20 张/天</li></ul><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-ff3f711f0f560f82213a8d8dd451938f_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-ff3f711f0f560f82213a8d8dd451938f_r.jpg" data-rawheight="916" data-rawwidth="1002" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1002' height='916'&gt;&lt;/svg&gt;" width="1002"/></figure><p>模拟结果竟然会是！！！</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-e8943984d0857db9365cf70e4aea3a63_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-e8943984d0857db9365cf70e4aea3a63_r.jpg" data-rawheight="736" data-rawwidth="1819" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1819' height='736'&gt;&lt;/svg&gt;" width="1819"/></figure><p>这也太奇怪了吧？增负了？而且后面学完的 100 天中，曲线怎么还往上涨了？？？模拟器出 bug 了？</p><p>大家找到原因了吗？我已经理解到了，毕竟理论与实际是有偏差的。这也是为什么模拟器给出的复习量会比我实际上的复习量多的原因。</p><p>这里我暂时不做解释，留给大家做讨论。</p><p>（更新：已经在新文章中解答：<a class="internal" href="https://zhuanlan.zhihu.com/p/79015431">【硬核】参数模拟(续)——从“诡异”的曲线上扬到“有毒”的记忆</a>）</p><blockquote>提示：该问题涉及到的知识在本文和<a class="internal" href="https://zhuanlan.zhihu.com/p/42921090">Anki 算法与术语浅谈</a>中都覆盖到了，只要理解了就能解释清楚。</blockquote><p>2020/8/4 更新：</p><p>模拟器作者修复这个 bug 了！</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-fbfb77e21eb0733ef25ed322d9027072_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-fbfb77e21eb0733ef25ed322d9027072_r.jpg" data-rawheight="858" data-rawwidth="974" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='974' height='858'&gt;&lt;/svg&gt;" width="974"/></figure><p>现在拉长战线后的情况更贴合真实情况了：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-1f22cc31ee7861acdae012729e550d63_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-1f22cc31ee7861acdae012729e550d63_r.jpg" data-rawheight="680" data-rawwidth="1886" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1886' height='680'&gt;&lt;/svg&gt;" width="1886"/></figure><p>并且按照我原先的计划模拟的结果也得到了修正：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-a9255f1bd4685b289c1160d8b8734a62_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-a9255f1bd4685b289c1160d8b8734a62_r.jpg" data-rawheight="674" data-rawwidth="1884" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1884' height='674'&gt;&lt;/svg&gt;" width="1884"/></figure><p></p></div>