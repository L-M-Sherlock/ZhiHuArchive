<meta charset="UTF-8">
如何和网友们一起愉快地合作翻译？我推荐 Paratranz + DeepL。
<div><p>记得上次写原创……还是在上次？哈哈开个玩笑，不知道大家有没有注意到，我最近发布翻译文章的速度快了不少？质量还变高了？本文我就讲讲如何提高<b>业余</b>翻译效率。</p><p>面向读者：有一定编程基础、用爱发电的业余翻译者</p><h2>背景</h2><p>在 18 年，我就用业余时间搞翻译了，虽然我英语不是很好，但还是做了几十万字的翻译。返回去看那些翻译，质量惨不忍睹。痛定思痛之后，我打算召集一些志愿者，一起翻译，互相校对，兼顾翻译质量和效率。</p><p>一开始我们采用 GitHub 作为协作平台，用 git 管理翻译项目，用 pull request 来合并翻译。不过由于 git 对非程序员朋友十分不友好，导致翻译《<a class="internal" href="https://zhuanlan.zhihu.com/p/394795804">我们如何才能开发出变革性的思想工具？ </a>》这篇长达 4 万字的文章，花了我们 3 个人将近 2.5 个月的时间。</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-9259ec25f0e6fd5bad7bd8c2202ab40b_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-9259ec25f0e6fd5bad7bd8c2202ab40b_r.jpg" data-rawheight="836" data-rawwidth="1248" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1248' height='836'&gt;&lt;/svg&gt;" width="1248"/></figure><p>其中还不乏因为 git 比对差异不符预期，导致未翻译内容覆盖了已翻译的内容。</p><p>由于这些问题，协作翻译的摩擦太大，使协作带来的收益不足以覆盖协作的成本。最终使得翻译项目停滞。</p><h2>起因</h2><p>在群里抱怨翻译太慢之后，有群友向我推荐了 Paratranz 这个翻译平台</p><figure><img class="content_image lazy" data-actualsrc="https://pic3.zhimg.com/v2-63dd6554b944b5a82885a648ea88062e_b.jpg" data-caption="" data-rawheight="431" data-rawwidth="352" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='352' height='431'&gt;&lt;/svg&gt;" width="352"/></figure><a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-5ca65ffe63268ace4e32edbc3b420f27_180x120.jpg" data-image-height="734" data-image-width="1283" data-text="大家是如何看待有些译员在翻译文章时，先机翻，然后在机翻的基础上进行修改和润色？机翻是否可取呢？" href="https://www.zhihu.com/question/453300590/answer/1866580713" target="_blank"><span><span></span><span></span></span><span></span></a><p>这个平台的翻译界面功能很全：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-1659e2d07b69b36b25f6e06c1a1e62b6_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-1659e2d07b69b36b25f6e06c1a1e62b6_r.jpg" data-rawheight="969" data-rawwidth="1919" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1919' height='969'&gt;&lt;/svg&gt;" width="1919"/></figure><p>而且还是国人开发的，本来用于翻译 P 社 mod：</p><a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-text="ParaTranz" href="https://paratranz.cn/about" target="_blank"><span><span></span><span></span></span><span></span></a><p> 我一看，感觉针不戳，就开始上手了。</p><h2>创建项目</h2><p>首先，我们先按流程来，创建一个项目：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-61303bf6c2792c52c030398bd637c483_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-61303bf6c2792c52c030398bd637c483_r.jpg" data-rawheight="560" data-rawwidth="1916" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1916' height='560'&gt;&lt;/svg&gt;" width="1916"/></figure><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic1.zhimg.com/v2-14f3980c63109040b5ded49365402630_b.jpg" data-caption="" src="https://pic1.zhimg.com/v2-14f3980c63109040b5ded49365402630_r.jpg" data-rawheight="942" data-rawwidth="1201" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1201' height='942'&gt;&lt;/svg&gt;" width="1201"/></figure><p>这些内容都按要求填写就行了，所属游戏填「其他」，至于选用什么许可协议，可以看这篇介绍：</p><a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/1983cf8d5a7c7aaf9f18ded88ac2239c_180x120.jpg" data-image-height="257" data-image-width="680" data-text="漠伦：“知识共享”（CC协议）简单介绍" href="https://zhuanlan.zhihu.com/p/20641764" target="_blank"><span><span></span><span></span></span><span></span></a><p>建好了项目后，就可以在「我的」标签下面找到自己创建的项目了：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-47444d5f29d03520015f7f696673438a_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-47444d5f29d03520015f7f696673438a_r.jpg" data-rawheight="557" data-rawwidth="1205" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1205' height='557'&gt;&lt;/svg&gt;" width="1205"/></figure><h2>添加翻译</h2><p>有了项目，没有待翻译的文本，我们还不能开始翻译。由于这个平台主要是用于翻译游戏 mod 内的描述文本，用来翻译文章属于歪门邪道的用法，这里我们就需要使用平台翻译的通用格式：.csv 文件</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-72e876f5614f5bff485197d3a0b2cc6b_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-72e876f5614f5bff485197d3a0b2cc6b_r.jpg" data-rawheight="848" data-rawwidth="862" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='862' height='848'&gt;&lt;/svg&gt;" width="862"/></figure><p>格式如图所示，第一列为索引值，第二列是原文，第三列是译文。</p><p>可能有人要问了，你不是搞翻译协作么？怎么上传的时候就有译文了？</p><p>别急，你可能还会问，把要翻译的文章搞成这种格式不累么？</p><p>没事儿，这些都可以自动化，为了提高翻译效率，我写了个 Python 脚本来实现格式转换和自动机翻：</p><div><pre><code><span>import</span> <span>deepl</span>
<span>import</span> <span>os</span>
<span>import</span> <span>time</span>
<span>import</span> <span>pandas</span> <span>as</span> <span>pd</span>
<span>import</span> <span>shutil</span>
<span>from</span> <span>config</span> <span>import</span> <span>deepl_key</span>

<span>translator</span> <span>=</span> <span>deepl</span><span>.</span><span>Translator</span><span>(</span><span>deepl_key</span><span>)</span>


<span>def</span> <span>countspaces</span><span>(</span><span>x</span><span>):</span>
    <span>for</span> <span>i</span><span>,</span> <span>j</span> <span>in</span> <span>enumerate</span><span>(</span><span>x</span><span>):</span>
        <span>if</span> <span>j</span> <span>!=</span> <span>' '</span><span>:</span>
            <span>return</span> <span>i</span>


<span>def</span> <span>translate</span><span>(</span><span>file</span><span>,</span> <span>filename</span><span>):</span>
    <span>save</span> <span>=</span> <span>pd</span><span>.</span><span>DataFrame</span><span>(</span><span>columns</span><span>=</span><span>[</span><span>'Source'</span><span>,</span> <span>'Translation'</span><span>])</span>
    <span>queries</span> <span>=</span> <span>file</span><span>.</span><span>readlines</span><span>()</span>
    <span>for</span> <span>query</span> <span>in</span> <span>tqdm</span><span>.</span><span>tqdm</span><span>(</span><span>queries</span><span>):</span>
        <span>query</span> <span>=</span> <span>query</span><span>.</span><span>rstrip</span><span>()</span>
        <span>if</span> <span>query</span> <span>==</span> <span>''</span><span>:</span>
            <span>continue</span>
        <span>space</span> <span>=</span> <span>' '</span> <span>*</span> <span>countspaces</span><span>(</span><span>query</span><span>)</span>
        <span>try</span><span>:</span>
            <span>result</span> <span>=</span> <span>translator</span><span>.</span><span>translate_text</span><span>(</span><span>query</span><span>.</span><span>lstrip</span><span>(),</span> <span>target_lang</span><span>=</span><span>'ZH'</span><span>)</span>
            <span>trans</span> <span>=</span> <span>result</span><span>.</span><span>text</span>
            <span>if</span> <span>trans</span> <span>==</span> <span>''</span><span>:</span>
                <span>trans</span> <span>=</span> <span>query</span>
            <span>time</span><span>.</span><span>sleep</span><span>(</span><span>0.1</span><span>)</span>
            <span>save</span> <span>=</span> <span>pd</span><span>.</span><span>concat</span><span>([</span><span>save</span><span>,</span> <span>pd</span><span>.</span><span>DataFrame</span><span>({</span><span>'Source'</span><span>:</span> <span>[</span><span>query</span><span>],</span> <span>'Translation'</span><span>:</span> <span>[</span><span>space</span> <span>+</span> <span>trans</span><span>]})],</span>
                             <span>ignore_index</span><span>=</span><span>True</span><span>)</span>
        <span>except</span> <span>Exception</span> <span>as</span> <span>err</span><span>:</span>
            <span>print</span><span>(</span><span>err</span><span>)</span>
    <span>save</span><span>.</span><span>to_csv</span><span>(</span><span>f</span><span>'./machine_tranz/</span><span>{filename}</span><span>.csv'</span><span>,</span> <span>header</span><span>=</span><span>False</span><span>)</span>


<span>if</span> <span>__name__</span> <span>==</span> <span>'__main__'</span><span>:</span>
    <span>trans_files</span> <span>=</span> <span>os</span><span>.</span><span>listdir</span><span>(</span><span>'source'</span><span>)</span>

    <span>for</span> <span>filename</span> <span>in</span> <span>trans_files</span><span>:</span>
        <span>with</span> <span>open</span><span>(</span><span>f</span><span>'source/</span><span>{filename}</span><span>'</span><span>,</span> <span>'r'</span><span>,</span> <span>encoding</span><span>=</span><span>"utf-8"</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
            <span>translate</span><span>(</span><span>f</span><span>,</span> <span>filename</span><span>)</span>
        <span>shutil</span><span>.</span><span>move</span><span>(</span><span>f</span><span>'source/</span><span>{filename}</span><span>'</span><span>,</span> <span>f</span><span>'./src_fin/</span><span>{filename}</span><span>'</span><span>)</span>
</code></pre></div><p><br/></p><p>思路很简单</p><ul><li>先把想要翻译的文章贴到一个文本文件里面</li><li>再用 Python 脚本处理，遍历原文的所有段落</li><li>然后对每个段落调用 deepL 的翻译接口</li><li>将返回的译文和原文一起存到 pandas 的表中</li><li>按照平台要求的格式保存成 .csv 文件</li><li>上传至 Paratranz 平台</li></ul><blockquote>注：DeepL 也可以替换为其他机翻接口</blockquote><p>这样讲有点抽象，下面拿一篇文章演示一下</p><h3>图片演示</h3><p>原文：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-98bc164e33c7ef30d2adcbeabab5693d_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-98bc164e33c7ef30d2adcbeabab5693d_r.jpg" data-rawheight="907" data-rawwidth="775" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='775' height='907'&gt;&lt;/svg&gt;" width="775"/></figure><p>复制到 typora，并保存到待处理文件的目录下</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-f7f0f61cef501f16e85992fcf49c4031_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-f7f0f61cef501f16e85992fcf49c4031_r.jpg" data-rawheight="940" data-rawwidth="1256" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1256' height='940'&gt;&lt;/svg&gt;" width="1256"/></figure><p>运行脚本：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic1.zhimg.com/v2-77c2c87d61a2ca25e6440890115f2570_b.jpg" data-caption="" src="https://pic1.zhimg.com/v2-77c2c87d61a2ca25e6440890115f2570_r.jpg" data-rawheight="798" data-rawwidth="1204" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1204' height='798'&gt;&lt;/svg&gt;" width="1204"/></figure><p>最终文件：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-18ee3ea6578072584c96800caa0e44a6_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-18ee3ea6578072584c96800caa0e44a6_r.jpg" data-rawheight="776" data-rawwidth="1188" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1188' height='776'&gt;&lt;/svg&gt;" width="1188"/></figure><p>上传平台：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-9e133b86d152b58cf6753ea780a765bb_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-9e133b86d152b58cf6753ea780a765bb_r.jpg" data-rawheight="546" data-rawwidth="1350" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1350' height='546'&gt;&lt;/svg&gt;" width="1350"/></figure><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-4bc67282e554464b495487100f95655b_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-4bc67282e554464b495487100f95655b_r.jpg" data-rawheight="550" data-rawwidth="1377" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1377' height='550'&gt;&lt;/svg&gt;" width="1377"/></figure><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic1.zhimg.com/v2-40871f3916e9d66ba0c53d0f4c81362c_b.jpg" data-caption="" src="https://pic1.zhimg.com/v2-40871f3916e9d66ba0c53d0f4c81362c_r.jpg" data-rawheight="682" data-rawwidth="1301" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1301' height='682'&gt;&lt;/svg&gt;" width="1301"/></figure><p>查看效果：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-dde83ce3a730fca7b713d72dd535ec3e_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-dde83ce3a730fca7b713d72dd535ec3e_r.jpg" data-rawheight="752" data-rawwidth="1918" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1918' height='752'&gt;&lt;/svg&gt;" width="1918"/></figure><p>前前后后大概花不到一分钟就能搞定，如果同时添加多个文件，效率还能更高。</p><h2>开始协作</h2><p>有了待翻译的文本，还有已经预先上传的机器翻译，接下来只需要邀请你的朋友加入项目就能愉快地开始协作了~</p><p>具体的协作教程，已经有人写过了，这里就不赘述了：</p><a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-text="ShirahaneSuoh：汉化组翻译指南节选 - 如何使用云平台" href="https://zhuanlan.zhihu.com/p/376818812" target="_blank"><span><span></span><span></span></span><span></span></a><h2>发布译文</h2><p>和朋友们吭哧吭哧翻译了好多文章，现在想把译文整合一下发布出去？总不能一段一段复制出来吧？这里简单说说怎么把翻译好的文章处理成易于阅读的格式。</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-dcf0de8202b0de408a96485bd921ce37_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-dcf0de8202b0de408a96485bd921ce37_r.jpg" data-rawheight="662" data-rawwidth="1349" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1349' height='662'&gt;&lt;/svg&gt;" width="1349"/></figure><p>首先需要到下载这里，将翻译成果下载下来，解压一下，会得到以下文件：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-33b28834725c0ac72f7ddfc9e247da4d_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-33b28834725c0ac72f7ddfc9e247da4d_r.jpg" data-rawheight="548" data-rawwidth="518" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='518' height='548'&gt;&lt;/svg&gt;" width="518"/></figure><p>点开一看，和我们上传的格式一致，除了译文部分已经被更新成我们人工润色和校对后的内容</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-0844eaee9a95a2a60dd2f67b452ba0ed_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-0844eaee9a95a2a60dd2f67b452ba0ed_r.jpg" data-rawheight="641" data-rawwidth="534" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='534' height='641'&gt;&lt;/svg&gt;" width="534"/></figure><p>这里我也是写了一个脚本自动处理：</p><div><pre><code><span>import</span> <span>pandas</span> <span>as</span> <span>pd</span>
<span>import</span> <span>os</span>

<span>if</span> <span>__name__</span> <span>==</span> <span>'__main__'</span><span>:</span>

    <span>trans_files</span> <span>=</span> <span>os</span><span>.</span><span>listdir</span><span>(</span><span>'./utf8/tools-for-thought'</span><span>)</span>

    <span>for</span> <span>filename</span> <span>in</span> <span>trans_files</span><span>:</span>
        <span>text</span> <span>=</span> <span>pd</span><span>.</span><span>read_csv</span><span>(</span><span>f</span><span>'./utf8/tools-for-thought/</span><span>{filename}</span><span>'</span><span>,</span> <span>header</span><span>=</span><span>None</span><span>,</span> <span>index_col</span><span>=</span><span>0</span><span>)</span>
        <span>text</span><span>.</span><span>columns</span> <span>=</span> <span>[</span><span>'source'</span><span>,</span> <span>'target'</span><span>]</span>
        <span>text</span><span>.</span><span>dropna</span><span>(</span><span>inplace</span><span>=</span><span>True</span><span>)</span>
        <span>with</span> <span>open</span><span>(</span><span>f</span><span>'./proofread/</span><span>{filename[:-4]}</span><span>'</span><span>,</span> <span>'w'</span><span>,</span> <span>encoding</span><span>=</span><span>'utf-8'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
            <span>f</span><span>.</span><span>writelines</span><span>(</span><span>'</span><span>\n\n</span><span>'</span><span>.</span><span>join</span><span>(</span><span>text</span><span>[</span><span>'target'</span><span>]</span><span>.</span><span>values</span><span>))</span>
</code></pre></div><p><br/></p><p>最终处理的结果：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-af0c74d44b8c70a3efba862cc62689a3_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-af0c74d44b8c70a3efba862cc62689a3_r.jpg" data-rawheight="920" data-rawwidth="1182" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1182' height='920'&gt;&lt;/svg&gt;" width="1182"/></figure><p>然后把这个文本贴到任何你想要发布的平台即可！</p><hr/><h2>结语</h2><p>本文初衷就是分享一下自己是如何用 Paratranz 和 DeepL 提高业余翻译效率的，如果能帮到各位，十分荣幸。</p><p>用 CAT 的专业翻译请轻喷，谢谢~</p><p><br/></p><p>叶峻峣</p><p>2021 年 9 月 20 日</p></div>