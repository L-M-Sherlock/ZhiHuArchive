<meta charset="UTF-8">
【硬核】Anki2.1 打印卡片(续)——关于填空卡片转生成为复习提纲的那档事
<div><p>更新：感谢 circlestar 更新并汉化了插件</p><a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-446d455c7ce3c7ee2ab875793dd63d55_180x120.jpg" data-image-height="508" data-image-width="818" data-text="circlestar：anki打印卡片插件（export deck to html）汉化+修bug" href="https://zhuanlan.zhihu.com/p/159263417" target="_blank"><span><span></span><span></span></span><span></span></a><hr/><p>前情概要：利用 Anki 插件 Export deck to HTML、文本编辑器和浏览器，我们实现了 Anki 问答卡片转换为可打印、可自测的表格</p><a class="LinkCard new" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-c44bb5536483626773c8b4ff7ae9d8ab_180x120.jpg" data-image-height="814" data-image-width="1280" data-text="叶峻峣：【硬核】Anki2.1 打印卡片——可以打印还能自测，这样的问答卡片你喜欢吗？" href="https://zhuanlan.zhihu.com/p/137769105" target="_blank"><span><span></span><span></span></span><span></span></a><p>这回我们将同样结合使用以上三个工具，实现填空卡片到复习提纲的转化。</p><p>读者须知：本文默认您已经阅读了上一篇文章，知道如何安装插件和筛选卡片。</p><hr/><h2>第一步：安装插件</h2><p>略</p><h2>第二步：筛选卡片</h2><p>搜索方法：在对应的牌组后面加上 "note:填空(Anki高考)" 即可筛选出该牌组中所有的 填空(Anki高考) 卡片。</p><h2>第三步：设置导出格式</h2><p>点击主页面-左上角-工具-Export deck to html</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-f1d9d5b449182eecdd6669fc9731158f_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-f1d9d5b449182eecdd6669fc9731158f_r.jpg" data-rawheight="577" data-rawwidth="869" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='869' height='577'&gt;&lt;/svg&gt;" width="869"/></figure><p>选择对应的牌组</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-8b68f089867708a4fd56214550742412_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-8b68f089867708a4fd56214550742412_r.jpg" data-rawheight="878" data-rawwidth="1409" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1409' height='878'&gt;&lt;/svg&gt;" width="1409"/></figure><p>向 CSS 栏填入</p><div><pre><code><span>table</span> <span>{</span>
    <span>font-family</span><span>:</span> <span>verdana</span><span>,</span><span>arial</span><span>,</span><span>sans-serif</span><span>;</span>
    <span>font-size</span><span>:</span><span>11</span><span>px</span><span>;</span>
    <span>color</span><span>:</span><span>#333333</span><span>;</span>
    <span>border-width</span><span>:</span> <span>1</span><span>px</span><span>;</span>
    <span>border-color</span><span>:</span> <span>#666666</span><span>;</span>
    <span>border-collapse</span><span>:</span> <span>collapse</span><span>;</span>
<span>}</span>
<span>th</span> <span>{</span>
    <span>border-width</span><span>:</span> <span>1</span><span>px</span><span>;</span>
    <span>padding</span><span>:</span> <span>8</span><span>px</span><span>;</span>
    <span>border-style</span><span>:</span> <span>solid</span><span>;</span>
    <span>border-color</span><span>:</span> <span>#666666</span><span>;</span>
    <span>background-color</span><span>:</span> <span>#dedede</span><span>;</span>
<span>}</span>
<span>td</span> <span>{</span>
    <span>border-width</span><span>:</span> <span>1</span><span>px</span><span>;</span>
    <span>padding</span><span>:</span> <span>8</span><span>px</span><span>;</span>
    <span>border-style</span><span>:</span> <span>solid</span><span>;</span>
    <span>border-color</span><span>:</span> <span>#666666</span><span>;</span>
    <span>background-color</span><span>:</span> <span>#ffffff</span><span>;</span>
<span>}</span>

<span>img</span> <span>{</span>
    <span>max-width</span><span>:</span> <span>50</span><span>%</span><span>;</span>
    <span>height</span><span>:</span> <span>auto</span><span>;</span>
<span>}</span></code></pre></div><p>向 html 栏填入</p><div><pre><code><span>&lt;</span><span>tr</span><span>&gt;</span>
<span>&lt;</span><span>td</span><span>&gt;</span>{{知识}}<span>&lt;/</span><span>td</span><span>&gt;</span>
<span>&lt;/</span><span>tr</span><span>&gt;</span></code></pre></div><p>然后 Save，可以保存导出样式便于多次使用。最后点击 Export，导出成一个 html 文件。</p><h2>第四步：后处理</h2><p>用文本编辑器打开 html 文件（系统默认用浏览器，这里要右键选择编辑）</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic4.zhimg.com/v2-d6369d25e46db1f63093604505f6b3eb_b.jpg" data-caption="" src="https://pic4.zhimg.com/v2-d6369d25e46db1f63093604505f6b3eb_r.jpg" data-rawheight="591" data-rawwidth="453" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='453' height='591'&gt;&lt;/svg&gt;" width="453"/></figure><p>然后找到文本中的 &lt;body&gt; 标签，在其下一行加入 &lt;table&gt;</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic1.zhimg.com/v2-5f7d00f330c18165d318513a7c566a44_b.jpg" data-caption="" src="https://pic1.zhimg.com/v2-5f7d00f330c18165d318513a7c566a44_r.jpg" data-rawheight="375" data-rawwidth="487" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='487' height='375'&gt;&lt;/svg&gt;" width="487"/></figure><p>然后找到 &lt;/body&gt; 同理，在其上一行加入 &lt;/table&gt;</p><p>保存后打开 html 文件看看效果：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-035e404106a93024dbab95bc21aa6d29_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-035e404106a93024dbab95bc21aa6d29_r.jpg" data-rawheight="520" data-rawwidth="1890" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1890' height='520'&gt;&lt;/svg&gt;" width="1890"/></figure><p>这个挖空的代码有点碍眼，我们把它优化一下，先回到文本编辑器，用文本替换功能（记得打开正则表达式模式）</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic2.zhimg.com/v2-f20ac1c6b234f89e3094a3c5cfca1195_b.jpg" data-caption="" src="https://pic2.zhimg.com/v2-f20ac1c6b234f89e3094a3c5cfca1195_r.jpg" data-rawheight="592" data-rawwidth="955" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='955' height='592'&gt;&lt;/svg&gt;" width="955"/></figure><p>查找目标：{{c[0-9]::(.*?)}}</p><p>替换为：&lt;b&gt;\1&lt;\b&gt;</p><p>保存后再打开 html 文件看看效果</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-9ca3e68da4a0637ffd6d082d51225e9e_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-9ca3e68da4a0637ffd6d082d51225e9e_r.jpg" data-rawheight="646" data-rawwidth="1309" data-size="normal" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1309' height='646'&gt;&lt;/svg&gt;" width="1309"/></figure><p>挖空代码变成了加粗样式，看起来好多了。</p><h2>第五步：打印</h2><p>略</p><hr/><h2>总结</h2><p>本方法原理是利用插件，将卡片字段通过 html 和 css 重新组织为表格，然后导出后另存为 pdf 便于打印。根据不同的笔记模板，只需要制定对应的 html 和 css 即可。</p><p>遗憾的是，没能做出 填空题|填空答案 这样的效果，不便于自测。不过要实现这个效果并不是不可能，只是光靠文本替换已经无法实现，需要写一些代码才行，有想法的同学可以自己尝试。</p><p>当然，能在 Anki 上记忆当然要比打印出来要好，本方法仅限于帮助无法在学校使用电子设备的同学。</p><h2>题外话</h2><p>我记得有一种自测的方法，叫<b>红膜自测。</b>原理是，如果填空内容是红色字体，题干是黑色字体，只需要用红色透光片盖住题目，就只能看见题干的文字，看不到填空内容，也能实现便于自测的效果。</p><p>这个方法是我以前在别的同学那边看来的，自己没有试过，不过感觉会对某些读者有用，就在这里提一下。</p><p>红色样式的代码：&lt;font color="#FF0000"&gt; &lt;/font&gt;</p><p><a class="member_mention" data-hash="9738c822b4f758fd6162b6f97622fa42" data-hovercard="p$b$9738c822b4f758fd6162b6f97622fa42" href="https://www.zhihu.com/people/9738c822b4f758fd6162b6f97622fa42">@soneston</a> 同学补充：对橙色的遮挡效果更好，颜色码：#FFFFCD</p><p>附图（截去商标，免得有广告嫌疑）：</p><figure><img class="origin_image zh-lightbox-thumb lazy" data-actualsrc="https://pic3.zhimg.com/v2-dae2fa1d8e376899ad7f39591cd3aa32_b.jpg" data-caption="" src="https://pic3.zhimg.com/v2-dae2fa1d8e376899ad7f39591cd3aa32_r.jpg" data-rawheight="607" data-rawwidth="669" data-size="small" src="data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='669' height='607'&gt;&lt;/svg&gt;" width="669"/></figure><p></p></div>