<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>如何和网友们一起愉快地合作翻译？我推荐 Paratranz + DeepL。 - @Thoughts Memo</title>
<meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="如何和网友们一起愉快地合作翻译？我推荐 Paratranz + DeepL。 - @Thoughts Memo">
<meta property="og:site_name" content="ZhiHu Archive for Thoughts Memo">
<meta property="og:url" content="https://zhuanlan.zhihu.com/p/412325171">
<meta name="description" property="og:description" content="记得上次写原创……还是在上次？哈哈开个玩笑，不知道大家有没有注意到，我最近发布…">
<meta property="twitter:card" content="summary">
<meta name="twitter:title" property="og:title" itemprop="name" content="如何和网友们一起愉快地合作翻译？我推荐 Paratranz + DeepL。 - @Thoughts Memo">
<meta name="twitter:description" property="og:description" itemprop="description" content="记得上次写原创……还是在上次？哈哈开个玩笑，不知道大家有没有注意到，我最近发布…">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta name="google-site-verification" content="U7ZAFUgGNK60mmMqaRygg5vy-k8pwbPbDFXNjDCu7Xk" />
<link rel="alternate" type="application/rss+xml" title="ZhiHu Archive for Thoughts Memo" href="https://l-m-sherlock.github.io/ZhiHuArchive/feed.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/yue.css@0.4.0/yue.css">
<script>
</script>
<style>
.origin_image {
width: 100%;
}
figure {
margin:1.4em 0;
}
figure img {
width: 100%;
}
img {
vertical-align: middle;
}
.author {
display: flex;
gap: 1em;
}
#avatar {
width: 100px;
height: 100px;
}
.author > div {
flex: 1;
}
a[data-draft-type="link-card"] {
   display: block;
}
</style>
</head>
<body style="max-width: 1000px; margin: 0 auto; padding: 0 1em 0 1em;" class="yue">
<p><a href="./">← 返回目录</a></p>
<hr>
<header>
<img class="origin_image" src="https://pic1.zhimg.com/v2-b56873f2d454c0c0d0003d9a951d7d71_720w.jpg?source=b1748391"/>
<h1><a href="https://zhuanlan.zhihu.com/p/412325171">如何和网友们一起愉快地合作翻译？我推荐 Paratranz + DeepL。</a></h1>
<div class="author">
<img class="avatar" id="avatar" src="https://picx.zhimg.com/50/v2-f958f2b875b0cf4d7ee853e4446ba2d1_l.jpg?source=b1748391" />
<div>
<h2 rel="author">
<a href="https://api.zhihu.com/people/4c592f496dc33822b560b382907ff1d0" target="_blank">@Thoughts Memo</a>
</h2>
<p> 学校≠教育≠技能；文凭溢价=80%信号传递+20%人力资本 </p>
</div>
</div>
<time datetime="2021-09-20T15:17:09">发表于 2021年09月20日</time>
<p rel="stats"style="color: #999; font-size: 0.9em;">112 👍 / 18 💬</p>
</header>
<article>
<p data-pid="WJ7Z8chk">记得上次写原创……还是在上次？哈哈开个玩笑，不知道大家有没有注意到，我最近发布翻译文章的速度快了不少？质量还变高了？本文我就讲讲如何提高<b>业余</b>翻译效率。</p><p data-pid="vSQFUh5r">面向读者：有一定编程基础、用爱发电的业余翻译者</p><h2>更新</h2><p data-pid="7Zkj9jYO">感谢 Shom 编写的翻译教程：</p><a class="internal" data-draft-node="block" data-draft-type="link-card" href="https://zhuanlan.zhihu.com/p/562739389">Shom：Thoughts Memo 汉化组 ParaTranz 翻译教程</a><h2>背景</h2><p data-pid="lwUqT2ds">在 18 年，我就用业余时间搞翻译了，虽然我英语不是很好，但还是做了几十万字的翻译。返回去看那些翻译，质量惨不忍睹。痛定思痛之后，我打算召集一些志愿者，一起翻译，互相校对，兼顾翻译质量和效率。</p><p data-pid="E_hJ27T2">一开始我们采用 GitHub 作为协作平台，用 git 管理翻译项目，用 pull request 来合并翻译。不过由于 git 对非程序员朋友十分不友好，导致翻译《<a class="internal" href="./394795804.html">我们如何才能开发出变革性的思想工具？ </a>》这篇长达 4 万字的文章，花了我们 3 个人将近 2.5 个月的时间。</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic4.zhimg.com/v2-9259ec25f0e6fd5bad7bd8c2202ab40b_r.jpg" data-original-token="v2-9259ec25f0e6fd5bad7bd8c2202ab40b" data-rawheight="836" data-rawwidth="1248" data-size="normal" src="https://pic4.zhimg.com/v2-9259ec25f0e6fd5bad7bd8c2202ab40b_b.jpg" width="1248"/></figure><p data-pid="-n1jvKot">其中还不乏因为 git 比对差异不符预期，导致未翻译内容覆盖了已翻译的内容。</p><p data-pid="SjEPqv-l">由于这些问题，协作翻译的摩擦太大，使协作带来的收益不足以覆盖协作的成本。最终使得翻译项目停滞。</p><h2>起因</h2><p data-pid="tMQ9iNJX">在群里抱怨翻译太慢之后，有群友向我推荐了 Paratranz 这个翻译平台</p><figure data-size="normal"><img class="content_image" data-caption="" data-original-token="v2-63dd6554b944b5a82885a648ea88062e" data-rawheight="431" data-rawwidth="352" data-size="normal" src="https://pic1.zhimg.com/v2-63dd6554b944b5a82885a648ea88062e_b.jpg" width="352"/></figure><a class="internal" data-draft-node="block" data-draft-type="link-card" data-image="https://picx.zhimg.com/v2-5ca65ffe63268ace4e32edbc3b420f27_qhd.jpg" data-image-height="734" data-image-width="1283" href="https://www.zhihu.com/question/453300590/answer/1866580713">大家是如何看待有些译员在翻译文章时，先机翻，然后在机翻的基础上进行修改和润色？机翻是否可取呢？</a><p data-pid="JKTUAIbw">这个平台的翻译界面功能很全：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic1.zhimg.com/v2-1659e2d07b69b36b25f6e06c1a1e62b6_r.jpg" data-original-token="v2-1659e2d07b69b36b25f6e06c1a1e62b6" data-rawheight="969" data-rawwidth="1919" data-size="normal" src="https://pic1.zhimg.com/v2-1659e2d07b69b36b25f6e06c1a1e62b6_b.jpg" width="1919"/></figure><p data-pid="z1orO_Ih">而且还是国人开发的，本来用于翻译 P 社 mod：</p><a class="wrap external" data-draft-node="block" data-draft-type="link-card" href="https://paratranz.cn/about" rel="nofollow noreferrer" target="_blank">ParaTranz</a><p data-pid="WPtRzZvz"> 我一看，感觉针不戳，就开始上手了。</p><h2>创建项目</h2><p data-pid="CawZ3ZUq">首先，我们先按流程来，创建一个项目：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic2.zhimg.com/v2-61303bf6c2792c52c030398bd637c483_r.jpg" data-original-token="v2-61303bf6c2792c52c030398bd637c483" data-rawheight="560" data-rawwidth="1916" data-size="normal" src="https://pic2.zhimg.com/v2-61303bf6c2792c52c030398bd637c483_b.jpg" width="1916"/></figure><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic3.zhimg.com/v2-14f3980c63109040b5ded49365402630_r.jpg" data-original-token="v2-14f3980c63109040b5ded49365402630" data-rawheight="942" data-rawwidth="1201" data-size="normal" src="https://pic3.zhimg.com/v2-14f3980c63109040b5ded49365402630_b.jpg" width="1201"/></figure><p data-pid="YEa4KV2H">这些内容都按要求填写就行了，所属游戏填「其他」，至于选用什么许可协议，可以看这篇介绍：</p><a class="internal" data-draft-node="block" data-draft-type="link-card" data-image="https://pica.zhimg.com/1983cf8d5a7c7aaf9f18ded88ac2239c_qhd.jpg" data-image-height="257" data-image-width="680" href="https://zhuanlan.zhihu.com/p/20641764">漠伦：“知识共享”（CC协议）简单介绍</a><p data-pid="ajAvmeH4">建好了项目后，就可以在「我的」标签下面找到自己创建的项目了：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pica.zhimg.com/v2-47444d5f29d03520015f7f696673438a_r.jpg" data-original-token="v2-47444d5f29d03520015f7f696673438a" data-rawheight="557" data-rawwidth="1205" data-size="normal" src="https://pica.zhimg.com/v2-47444d5f29d03520015f7f696673438a_b.jpg" width="1205"/></figure><h2>添加翻译</h2><p data-pid="5hO40t02">有了项目，没有待翻译的文本，我们还不能开始翻译。由于这个平台主要是用于翻译游戏 mod 内的描述文本，用来翻译文章属于歪门邪道的用法，这里我们就需要使用平台翻译的通用格式：.csv 文件</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic2.zhimg.com/v2-72e876f5614f5bff485197d3a0b2cc6b_r.jpg" data-original-token="v2-72e876f5614f5bff485197d3a0b2cc6b" data-rawheight="848" data-rawwidth="862" data-size="normal" src="https://pic2.zhimg.com/v2-72e876f5614f5bff485197d3a0b2cc6b_b.jpg" width="862"/></figure><p data-pid="EEpxqdz8">格式如图所示，第一列为索引值，第二列是原文，第三列是译文。</p><p data-pid="4RPBG7ah">可能有人要问了，你不是搞翻译协作么？怎么上传的时候就有译文了？</p><p data-pid="dfzdhNLB">别急，你可能还会问，把要翻译的文章搞成这种格式不累么？</p><p data-pid="yhdGUNjQ">没事儿，这些都可以自动化，为了提高翻译效率，我写了个 Python 脚本来实现格式转换和自动机翻：</p><div class="highlight"><pre><code class="language-python3"><span class="kn">import</span> <span class="nn">deepl</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">from</span> <span class="nn">config</span> <span class="k">import</span> <span class="n">deepl_key</span>

<span class="n">translator</span> <span class="o">=</span> <span class="n">deepl</span><span class="o">.</span><span class="n">Translator</span><span class="p">(</span><span class="n">deepl_key</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">countspaces</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="k">if</span> <span class="n">j</span> <span class="o">!=</span> <span class="s1">' '</span><span class="p">:</span>
<span class="k">return</span> <span class="n">i</span>


<span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
<span class="n">save</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'Source'</span><span class="p">,</span> <span class="s1">'Translation'</span><span class="p">])</span>
<span class="n">queries</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">queries</span><span class="p">):</span>
<span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
<span class="k">if</span> <span class="n">query</span> <span class="o">==</span> <span class="s1">''</span><span class="p">:</span>
<span class="k">continue</span>
<span class="n">space</span> <span class="o">=</span> <span class="s1">' '</span> <span class="o">*</span> <span class="n">countspaces</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">translator</span><span class="o">.</span><span class="n">translate_text</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(),</span> <span class="n">target_lang</span><span class="o">=</span><span class="s1">'ZH'</span><span class="p">)</span>
<span class="n">trans</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">text</span>
<span class="k">if</span> <span class="n">trans</span> <span class="o">==</span> <span class="s1">''</span><span class="p">:</span>
<span class="n">trans</span> <span class="o">=</span> <span class="n">query</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">save</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">save</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'Source'</span><span class="p">:</span> <span class="p">[</span><span class="n">query</span><span class="p">],</span> <span class="s1">'Translation'</span><span class="p">:</span> <span class="p">[</span><span class="n">space</span> <span class="o">+</span> <span class="n">trans</span><span class="p">]})],</span>
 <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="n">save</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">f</span><span class="s1">'./machine_tranz/</span><span class="si">{filename}</span><span class="s1">.csv'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
<span class="n">trans_files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">'source'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">trans_files</span><span class="p">:</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">f</span><span class="s1">'source/</span><span class="si">{filename}</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="n">translate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">f</span><span class="s1">'source/</span><span class="si">{filename}</span><span class="s1">'</span><span class="p">,</span> <span class="n">f</span><span class="s1">'./src_fin/</span><span class="si">{filename}</span><span class="s1">'</span><span class="p">)</span>
</code></pre></div><p class="ztext-empty-paragraph"><br/></p><p data-pid="dYTv3dsb">思路很简单</p><ul><li data-pid="5uIk4awg">先把想要翻译的文章贴到一个文本文件里面</li><li data-pid="qzFrJ-Lm">再用 Python 脚本处理，遍历原文的所有段落</li><li data-pid="FmZHXvhi">然后对每个段落调用 deepL 的翻译接口</li><li data-pid="QUh2qlfr">将返回的译文和原文一起存到 pandas 的表中</li><li data-pid="ZYJtiymP">按照平台要求的格式保存成 .csv 文件</li><li data-pid="K_UJpxlO">上传至 Paratranz 平台</li></ul><blockquote data-pid="lLjIKc_-">注：DeepL 也可以替换为其他机翻接口</blockquote><p data-pid="3amqcby4">这样讲有点抽象，下面拿一篇文章演示一下</p><h3>图片演示</h3><p data-pid="RthVHmUJ">原文：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic4.zhimg.com/v2-98bc164e33c7ef30d2adcbeabab5693d_r.jpg" data-original-token="v2-98bc164e33c7ef30d2adcbeabab5693d" data-rawheight="907" data-rawwidth="775" data-size="normal" src="https://pic4.zhimg.com/v2-98bc164e33c7ef30d2adcbeabab5693d_b.jpg" width="775"/></figure><p data-pid="ivOm-ge7">复制到 typora，并保存到待处理文件的目录下</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://picx.zhimg.com/v2-f7f0f61cef501f16e85992fcf49c4031_r.jpg" data-original-token="v2-f7f0f61cef501f16e85992fcf49c4031" data-rawheight="940" data-rawwidth="1256" data-size="normal" src="https://picx.zhimg.com/v2-f7f0f61cef501f16e85992fcf49c4031_b.jpg" width="1256"/></figure><p data-pid="0U9ShJqj">运行脚本：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic3.zhimg.com/v2-77c2c87d61a2ca25e6440890115f2570_r.jpg" data-original-token="v2-77c2c87d61a2ca25e6440890115f2570" data-rawheight="798" data-rawwidth="1204" data-size="normal" src="https://pic3.zhimg.com/v2-77c2c87d61a2ca25e6440890115f2570_b.jpg" width="1204"/></figure><p data-pid="rAVGPHsw">最终文件：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic3.zhimg.com/v2-18ee3ea6578072584c96800caa0e44a6_r.jpg" data-original-token="v2-18ee3ea6578072584c96800caa0e44a6" data-rawheight="776" data-rawwidth="1188" data-size="normal" src="https://pic3.zhimg.com/v2-18ee3ea6578072584c96800caa0e44a6_b.jpg" width="1188"/></figure><p data-pid="HKfAWH2v">上传平台：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic2.zhimg.com/v2-9e133b86d152b58cf6753ea780a765bb_r.jpg" data-original-token="v2-9e133b86d152b58cf6753ea780a765bb" data-rawheight="546" data-rawwidth="1350" data-size="normal" src="https://pic2.zhimg.com/v2-9e133b86d152b58cf6753ea780a765bb_b.jpg" width="1350"/></figure><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://picx.zhimg.com/v2-4bc67282e554464b495487100f95655b_r.jpg" data-original-token="v2-4bc67282e554464b495487100f95655b" data-rawheight="550" data-rawwidth="1377" data-size="normal" src="https://picx.zhimg.com/v2-4bc67282e554464b495487100f95655b_b.jpg" width="1377"/></figure><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic1.zhimg.com/v2-40871f3916e9d66ba0c53d0f4c81362c_r.jpg" data-original-token="v2-40871f3916e9d66ba0c53d0f4c81362c" data-rawheight="682" data-rawwidth="1301" data-size="normal" src="https://pic1.zhimg.com/v2-40871f3916e9d66ba0c53d0f4c81362c_b.jpg" width="1301"/></figure><p data-pid="U_M6uTBJ">查看效果：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic1.zhimg.com/v2-dde83ce3a730fca7b713d72dd535ec3e_r.jpg" data-original-token="v2-dde83ce3a730fca7b713d72dd535ec3e" data-rawheight="752" data-rawwidth="1918" data-size="normal" src="https://pic1.zhimg.com/v2-dde83ce3a730fca7b713d72dd535ec3e_b.jpg" width="1918"/></figure><p data-pid="3RosP2pV">前前后后大概花不到一分钟就能搞定，如果同时添加多个文件，效率还能更高。</p><h2>开始协作</h2><p data-pid="zguptMOF">有了待翻译的文本，还有已经预先上传的机器翻译，接下来只需要邀请你的朋友加入项目就能愉快地开始协作了~</p><p data-pid="aMKADgEh">具体的协作教程，已经有人写过了，这里就不赘述了：</p><a class="internal" data-draft-node="block" data-draft-type="link-card" href="https://zhuanlan.zhihu.com/p/376818812">ShirahaneSuoh：汉化组翻译指南节选 - 如何使用云平台</a><h2>发布译文</h2><p data-pid="y2EfCOdZ">和朋友们吭哧吭哧翻译了好多文章，现在想把译文整合一下发布出去？总不能一段一段复制出来吧？这里简单说说怎么把翻译好的文章处理成易于阅读的格式。</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic2.zhimg.com/v2-dcf0de8202b0de408a96485bd921ce37_r.jpg" data-original-token="v2-dcf0de8202b0de408a96485bd921ce37" data-rawheight="662" data-rawwidth="1349" data-size="normal" src="https://pic2.zhimg.com/v2-dcf0de8202b0de408a96485bd921ce37_b.jpg" width="1349"/></figure><p data-pid="_tG_j0Ke">首先需要到下载这里，将翻译成果下载下来，解压一下，会得到以下文件：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://picx.zhimg.com/v2-33b28834725c0ac72f7ddfc9e247da4d_r.jpg" data-original-token="v2-33b28834725c0ac72f7ddfc9e247da4d" data-rawheight="548" data-rawwidth="518" data-size="normal" src="https://picx.zhimg.com/v2-33b28834725c0ac72f7ddfc9e247da4d_b.jpg" width="518"/></figure><p data-pid="y3Zeazai">点开一看，和我们上传的格式一致，除了译文部分已经被更新成我们人工润色和校对后的内容</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic4.zhimg.com/v2-0844eaee9a95a2a60dd2f67b452ba0ed_r.jpg" data-original-token="v2-0844eaee9a95a2a60dd2f67b452ba0ed" data-rawheight="641" data-rawwidth="534" data-size="normal" src="https://pic4.zhimg.com/v2-0844eaee9a95a2a60dd2f67b452ba0ed_b.jpg" width="534"/></figure><p data-pid="dAAMiSG5">这里我也是写了一个脚本自动处理：</p><div class="highlight"><pre><code class="language-python3"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>

<span class="n">trans_files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">'./utf8/tools-for-thought'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">trans_files</span><span class="p">:</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">f</span><span class="s1">'./utf8/tools-for-thought/</span><span class="si">{filename}</span><span class="s1">'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">text</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'source'</span><span class="p">,</span> <span class="s1">'target'</span><span class="p">]</span>
<span class="n">text</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">f</span><span class="s1">'./proofread/</span><span class="si">{filename[:-4]}</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="s1">'</span><span class="se">\n\n</span><span class="s1">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="s1">'target'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
</code></pre></div><p class="ztext-empty-paragraph"><br/></p><p data-pid="Rf9Vc24Z">最终处理的结果：</p><figure data-size="normal"><img class="origin_image zh-lightbox-thumb" data-caption="" data-original="https://pic4.zhimg.com/v2-af0c74d44b8c70a3efba862cc62689a3_r.jpg" data-original-token="v2-af0c74d44b8c70a3efba862cc62689a3" data-rawheight="920" data-rawwidth="1182" data-size="normal" src="https://pic4.zhimg.com/v2-af0c74d44b8c70a3efba862cc62689a3_b.jpg" width="1182"/></figure><p data-pid="Wf87TlO2">然后把这个文本贴到任何你想要发布的平台即可！</p><hr/><h2>结语</h2><p data-pid="_ZgvadPS">本文初衷就是分享一下自己是如何用 Paratranz 和 DeepL 提高业余翻译效率的，如果能帮到各位，十分荣幸。</p><p data-pid="zAF1HIN3">用 CAT 的专业翻译请轻喷，谢谢~</p><p class="ztext-empty-paragraph"><br/></p><p data-pid="im2ydGrP">叶峻峣</p><p data-pid="n4bF4pII">2021 年 9 月 20 日</p>

<hr>
<div class="column" style="margin: 1em 0; padding: 0.5em 1em; border: 2px solid #999; border-radius: 5px;">
<h2>专栏：学委叶哥的随笔</h2>
</div>
<hr>
<p><a href="./">← 返回目录</a></p>
</article>
<script src="https://giscus.app/client.js"
data-repo="L-M-Sherlock/ZhiHuArchive"
data-repo-id="MDEwOlJlcG9zaXRvcnkzNDk5NDE0MzM="
data-category="Announcements"
data-category-id="DIC_kwDOFNuuuc4Ck92x"
data-mapping="title"
data-strict="0"
data-reactions-enabled="1"
data-emit-metadata="0"
data-input-position="top"
data-theme="preferred_color_scheme"
data-lang="zh-CN"
data-loading="lazy"
crossorigin="anonymous"
async>
</script>
</body>
</html>